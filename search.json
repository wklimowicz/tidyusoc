[{"path":"https://wklimowicz.github.io/tidyusoc/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 tidyusoc authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Wojtek Klimowicz. Author, maintainer.","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Klimowicz W (2022). tidyusoc: Tools Working \"Understanding Society\" Dataset. https://github.com/wklimowicz/tidyusoc, https://wklimowicz.github.io/tidyusoc/.","code":"@Manual{,   title = {tidyusoc: Tools for Working with the \"Understanding Society\" Dataset},   author = {Wojtek Klimowicz},   year = {2022},   note = {https://github.com/wklimowicz/tidyusoc, https://wklimowicz.github.io/tidyusoc/}, }"},{"path":[]},{"path":"https://wklimowicz.github.io/tidyusoc/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for Working with the ","text":"can install development version tidyusoc GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"wklimowicz/tidyusoc\")"},{"path":"https://wklimowicz.github.io/tidyusoc/index.html","id":"setup","dir":"","previous_headings":"","what":"Setup","title":"Tools for Working with the ","text":"downloading Understanding Society Data UK Data Service website, run: small set core variables included default: add variables, use extra_mappings function. variables change time use pick. example, life satisfaction : lfsato waves 6-10 12-18 BHPS. sclfsato waves 1-11 UKHLS. variable BMI (bmi_dv) doesn’t change time, ’s passed string. good place start looking variables Understanding Society Variable Search, Documentation.","code":"library(tidyusoc)  # Convert to Rds to save space and time usoc_convert(usoc_directory = \"spss/spss25\",              new_directory = \"rds\",              filter_files = \"indresp\")  # Compile the INDRESP files in the rds folder usoc <- usoc_compile(directory = \"rds\") custom_mappings <- function(cols) {      life_sat <- pick(c(\"sclfsato\", \"lfsato\"), cols)      custom_variables <- tibble::tribble(         ~usoc_name, ~new_name, ~type,         life_sat, \"life_satisfaction\", \"factor\",         \"bmi_dv\", \"bmi_dv\", \"numeric\"     )      return(custom_variables)  }  usoc <- usoc_compile(\"rds\", extra_mappings = custom_mappings)"},{"path":"https://wklimowicz.github.io/tidyusoc/index.html","id":"compiling-different-surveys","dir":"","previous_headings":"","what":"Compiling different surveys.","title":"Tools for Working with the ","text":"default, scripts compile indresp file - can change file argument. example, compile youth response files:","code":"usoc_convert(usoc_directory = \"spss/spss25\",              new_directory = \"rds\",              filter_files = \"youth\")  usoc <- usoc_compile(directory = \"rds\", file = \"youth\")"},{"path":"https://wklimowicz.github.io/tidyusoc/index.html","id":"using-the-data-across-multiple-projects","dir":"","previous_headings":"","what":"Using the data across multiple projects.","title":"Tools for Working with the ","text":"Adding environment variable called DATA_DIRECTORY pointing folder, automatically saves fst final dataset, can loaded anywhere using: read compiled files change argument:","code":"library(tidyusoc) usoc <- usoc_load() usoc <- usoc_load(file = \"youth\")"},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pick.html","id":null,"dir":"Reference","previous_headings":"","what":"Picks column names in order of appearance — pick","title":"Picks column names in order of appearance — pick","text":"column names change time, picks first one appears list order appearance. appear, returns character NA.","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pick.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Picks column names in order of appearance — pick","text":"","code":"pick(vector_of_names, column_names)"},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pick.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Picks column names in order of appearance — pick","text":"vector_of_names character vector column names column_names vector columns usoc","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pick.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Picks column names in order of appearance — pick","text":"First name appears cols","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_compile.html","id":null,"dir":"Reference","previous_headings":"","what":"Compile Understanding Society SPSS files to one dataset — usoc_compile","title":"Compile Understanding Society SPSS files to one dataset — usoc_compile","text":"Compiles files BHPS UKHLS one file","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_compile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compile Understanding Society SPSS files to one dataset — usoc_compile","text":"","code":"usoc_compile(   directory,   extra_mappings = NULL,   save_variables_report = TRUE,   file = \"indresp\" )"},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_compile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compile Understanding Society SPSS files to one dataset — usoc_compile","text":"directory Directory bhps/ ukhls/ extra_mappings function extra columns compile save_variables_report Save csv summary variables? file file usoc data compile? default indresp, also works youth, child, etc.","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_compile.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compile Understanding Society SPSS files to one dataset — usoc_compile","text":"automatically save file directory used projects, set system variable called DATA_DIRECTORY pointing folder. just R sessions, add line .Rprofile: Sys.setenv(DATA_DIRECTORY = \"~/path//folder\")","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_convert.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert USOC files to RDS — usoc_convert","title":"Convert USOC files to RDS — usoc_convert","text":"Convert USOC files RDS","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_convert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert USOC files to RDS — usoc_convert","text":"","code":"usoc_convert(usoc_directory, new_directory, filter_files = \"indresp\")"},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_convert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert USOC files to RDS — usoc_convert","text":"usoc_directory Directory top level USOC data (\"bhps\" \"ukhls\" ) new_directory Directory RDS files saved filter_files regex narrow files - default","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_load.html","id":null,"dir":"Reference","previous_headings":"","what":"Load USOC from DATA_DIRECTORY folder — usoc_load","title":"Load USOC from DATA_DIRECTORY folder — usoc_load","text":"able use one file across many projects, set environment variable called DATA_DIRECTORY folder path, use function load data .","code":""},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_load.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load USOC from DATA_DIRECTORY folder — usoc_load","text":"","code":"usoc_load(file = \"indresp\", as.data.table = TRUE, ...)"},{"path":"https://wklimowicz.github.io/tidyusoc/reference/usoc_load.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load USOC from DATA_DIRECTORY folder — usoc_load","text":"file file load? default indresp. .data.table Passed read_fst ... Passed fst::read_fst","code":""}]
